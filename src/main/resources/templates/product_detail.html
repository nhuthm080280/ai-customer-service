<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Admin - Product Detail</title>

    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>

    <style>
        :root{--sidebar:#111827; --accent:#2563eb; --muted:#6b7280; --card:#fff;}
        body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#f4f6f8;color:#111}
        .layout{display:flex;min-height:100vh}
        .sidebar{width:220px;background:var(--sidebar);color:#fff;display:flex;flex-direction:column}
        .brand{padding:18px;font-weight:700;border-bottom:1px solid rgba(255,255,255,0.06)}
        .nav{padding:12px;flex:1}
        .nav a{display:block;color:rgba(255,255,255,0.95);text-decoration:none;padding:8px 12px;border-radius:6px;margin-bottom:6px}
        .nav a:hover{background:rgba(255,255,255,0.04)}
        .content-wrap{flex:1;display:flex;flex-direction:column}
        .topbar{background:#fff;padding:12px 20px;border-bottom:1px solid #e6e9ee;display:flex;align-items:center;justify-content:space-between}
        .page{padding:20px;max-width:900px;margin:18px auto;width:100%}
        .card{background:var(--card);padding:18px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.04)}
        label{display:block;margin-top:12px}
        input[type="text"]{padding:8px;width:100%;box-sizing:border-box;margin-top:6px;border:1px solid #ddd;border-radius:6px}
        button{margin-top:16px;padding:8px 16px;border-radius:6px;border:none;background:var(--accent);color:#fff;cursor:pointer}
        .muted{color:var(--muted)}
        @media (max-width:800px){.sidebar{display:none}}
    </style>
</head>
<body>
<div class="layout">
    <aside class="sidebar">
        <div class="brand">Admin Panel</div>
        <nav class="nav">
            <a href="/" th:href="@{/}">Home</a>
            <a href="/products" th:href="@{/products}">Products</a>
        </nav>
    </aside>

    <div class="content-wrap">
        <div class="topbar">
            <div><strong>Product Detail</strong></div>
            <div class="muted">Logged in as Admin</div>
        </div>

        <main class="page">
            <div class="card">

                <!-- BEGIN original form content (wrapped) -->
                <h1>Update Product</h1>

                <form
                        th:action="@{/products/{id}(id=${product.id})}"
                        th:attr="hx-put=@{/products/{id}(id=${product.id})}"
                        method="post"
                        hx-target="#update-result"
                        hx-swap="innerHTML">

                    <label>
                        Title:
                        <input type="text" name="title" th:value="${product.title}" required>
                    </label>

                    <label>
                        Handle:
                        <input type="text" name="handle" th:value="${product.handle}">
                    </label>

                    <button type="submit">Save</button>
                    <button type="button" onclick="window.location.href='/products'">Back</button>
                    <!-- END original form content -->
                </form>

                <div id="update-result"></div>


            </div>
        </main>
    </div>
</div>
</body>
</html>
